<html>
    <head>
        <script>
            function displayTable( resp){
                var str="<table border='2'><tr><th>Id</th><th>UseId</th><th>title</th><th>body</th></tr>"
                    for(var ob of resp){
                        str+=`<tr><td>${ob.id}</td><td>${ob.userId}</td><td>${ob.title}</td><td>${ob.body}</td></tr>`
                    }
                    str+="</table>"
                    document.getElementById("mydiv").innerHTML=str;
            }
            /var p;
            function sendrequest(){
                p=fetch("https://jsonplaceholder.typicode.com/posts/");
                p.then((result)=>{console.log("fullfilled")
                console.log(result);
                if(result.status==200 && result.ok){
                    return result.json()
                }
                throw "data not found"
            }).then((data)=>{
                console.log("in 2nd then");
                console.log(data);
                //var resp=JSON.parse(data);
                console.log(data);
                displayTable( data);
            }).catch((err)=>{
                console.log("error ocuured",err)
            })
            }
            
        </script>
    </head>
    <body>
        <button type="text" name="btn" id="btn" value="btn" onclick="sendrequest()">
            send ajax request
        </button>
        <div id="mydiv">

        </div>
    </body>
</html>